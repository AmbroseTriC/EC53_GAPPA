# ECON53 Quantitative Project

This repository contains the quantitative workflow for the ECON53 group project on the progressivity of Canada's federal fuel charge (GGPPA Part I) and the Canada Carbon Rebate (CCR/CAI).

The analysis estimates direct and gross carbon-cost incidence by province, income quintile, and year, then evaluates net incidence after rebates.

## Scope

- Geography: Ontario, Manitoba, Saskatchewan, Alberta
- Years: 2019-2025
- Main model version: `Analysis/v4/compute_ggppa_progressivity_v4.py`

## Repository Structure

- `Analysis/`
- `Analysis/v1`, `Analysis/v2`, `Analysis/v3`, `Analysis/v4`: model versions and outputs
- `Analysis/v4`: current working model inputs/outputs
- `Analysis/Figures`: plotting scripts and exported figures
- `Analysis/Report`: LaTeX report and table files
- `Cleaning/`: cleaning scripts for expenditure, energy prices, and household counts
- `Crawling/`: scraper for historical GGPPA information

## Main v4 Inputs

Expected in `Analysis/v4/`:

- `11100223.xlsx` (StatCan 11-10-0223-01 extract)
- `18100001.xlsx` (StatCan 18-10-0001-01 extract)
- `36100101.xlsx` (StatCan 36-10-0101-01 extract)
- `Tax Rate Items_v2.xlsx` (fuel-charge rate extract)

## Main v4 Outputs

Generated by `compute_ggppa_progressivity_v4.py`:

- `ggppa_progressivity_results_v4.csv`
- `ggppa_kakwani_indices_v4.csv`
- `ggppa_finance_crosswalk_v4.csv`

## Environment

Recommended: Python 3.10+.

Install core dependencies:

```bash
pip install pandas numpy matplotlib openpyxl requests beautifulsoup4
```

## Reproduce v4 Results

### 1) Run the v4 model

```bash
cd Analysis/v4
python compute_ggppa_progressivity_v4.py
```

### 2) Generate the three v4 figures

From repository root:

```bash
python Analysis/Figures/replicate_v4_figures.py
```

Optional: write figure files directly into `Analysis/Report` for LaTeX inclusion:

```bash
python Analysis/Figures/replicate_v4_figures.py --output-dir Analysis/Report
```

### 3) Build the report PDF

```bash
cd Analysis/Report
pdflatex -interaction=nonstopmode ggppa_progressivity_report.tex
pdflatex -interaction=nonstopmode ggppa_progressivity_report.tex
```

## Notes

- `Analysis/v4/DATA_DICTIONARY.md` documents output columns and model assumptions.
- `Analysis/Report/*.tex` files contain report tables and manuscript content.
- Earlier versions (`v1`-`v3`) are kept for traceability and comparison.
