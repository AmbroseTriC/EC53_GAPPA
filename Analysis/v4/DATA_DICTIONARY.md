# Data Dictionary — `ggppa_progressivity_results_v2.csv`

This document defines **every column** in the model output `ggppa_progressivity_results_v2.csv` generated by `compute_ggppa_progressivity_v2.py`.

## Scope
- **Policy**: Federal fuel charge (GGPPA Part I) and household rebate (Climate Action Incentive / Canada Carbon Rebate, “CAI/CCR”).
- **Geography**: Ontario, Manitoba, Saskatchewan, Alberta.
- **Years**: 2019–2025 (with 2025 fuel charge rates set to **0** in the script to represent the wind-down/cessation of the consumer fuel charge).
- **Income grouping**: Before-tax household income quintiles.

## Conventions
- Monetary amounts are in **Canadian dollars per household per year** unless noted.
- “Direct” = fuel charge applied to household **gasoline, heating oil, and natural gas** consumption (constructed from expenditure and price/quantity conversions).
- “Indirect” = reduced-form wedge calibrated to government “average cost impact” anchors (see `kappa` and `indirect_cost`).

---

## Variable-by-variable definitions (in CSV column order)

### Identifiers and weights

#### `Province`
- **Description**: Province of residence.
- **Source**: User-provided SHS extract (Statistics Canada table 11-10-0223-01) merged with user-provided household counts extract (Statistics Canada table 36-10-0101-01).
- **Unit**: Text.
- **Logic**: Filtered to {Ontario, Manitoba, Saskatchewan, Alberta}.

#### `Year`
- **Description**: Calendar year of the observation.
- **Source**: Statistics Canada tables (11-10-0223-01, 18-10-0001-01, 36-10-0101-01) as provided by the user.
- **Unit**: Year.
- **Logic**: The script balances all province×quintile cells across 2019–2025; where data are missing, values are filled via within-group linear interpolation.

#### `carbon_price_per_tCO2e`
- **Description**: Statutory carbon price ($/tCO$_2$e) used in the script for interpolation and for calibrating the indirect wedge.
- **Source**: Script parameterization (carbon price schedule).
- **Unit**: $/tCO$_2$e.
- **Logic**: Look-up from `CARBON_PRICE` dictionary. Set to 0 in 2025.

#### `Quintile`
- **Description**: Before-tax household income quintile label.
- **Source**: Statistics Canada table 11-10-0223-01 (user-provided).
- **Unit**: Text.
- **Logic**: Five quintiles: Lowest, Second, Third, Fourth, Highest.

#### `Households`
- **Description**: Number of households in the province×quintile×year cell.
- **Source**: Statistics Canada table 36-10-0101-01 (user-provided extract).
- **Unit**: Households (count).
- **Logic**: Balanced to 2019–2025 via within province×quintile interpolation.

---

### Expenditures (from SHS) used to construct quantities

#### `gas_exp`
- **Description**: Annual household expenditure on “Gas and other fuels (all vehicles and tools)”.
- **Source**: Statistics Canada table 11-10-0223-01 (user-provided).
- **Unit**: CAD per household-year.
- **Logic**: Used with gasoline retail prices to impute litres of gasoline.

#### `ng_exp`
- **Description**: Annual household expenditure on “Natural gas for principal accommodation”.
- **Source**: Statistics Canada table 11-10-0223-01 (user-provided).
- **Unit**: CAD per household-year.
- **Logic**: Converted to GJ using the reduced-form factor `ng_GJ_per_dollar` (see below).

#### `oil_exp`
- **Description**: Annual household expenditure on “Other fuel for principal accommodation”.
- **Source**: Statistics Canada table 11-10-0223-01 (user-provided).
- **Unit**: CAD per household-year.
- **Logic**: Used with heating-fuel retail prices to impute litres of heating oil.

#### `total_exp`
- **Description**: Annual total household expenditure (used as the welfare/ranking variable).
- **Source**: Statistics Canada table 11-10-0223-01 (user-provided).
- **Unit**: CAD per household-year.
- **Logic**: Used to compute effective tax rates (ETRs) as ratios of policy incidence to total expenditure.

---

### Retail prices used to impute quantities

#### `gasoline_price`
- **Description**: Average retail gasoline price.
- **Source**: Statistics Canada table 18-10-0001-01 (user-provided extract), fuel series “Regular unleaded gasoline at self service filling stations”.
- **Unit**: CAD per litre.
- **Logic**: Annual mean of monthly/period observations in the extract.

#### `heating_oil_price`
- **Description**: Average retail heating fuel price.
- **Source**: Statistics Canada table 18-10-0001-01 (user-provided extract), fuel series “Household heating fuel”.
- **Unit**: CAD per litre.
- **Logic**: Annual mean; missing province-year values (e.g., Alberta gaps) are filled with the across-province mean for that year (see script).

---

### Imputed quantities (key transparency additions)

#### `gasoline_litres`
- **Description**: Imputed litres of gasoline purchased by the household.
- **Source**: Computed.
- **Unit**: Litres.
- **Calculation**:
  $$\texttt{gasoline\_litres}_{p,q,t} = \frac{\texttt{gas\_exp}_{p,q,t}}{\texttt{gasoline\_price}_{p,t}}.$$

#### `oil_litres`
- **Description**: Imputed litres of heating oil (household heating fuel) purchased.
- **Source**: Computed.
- **Unit**: Litres.
- **Calculation**:
  $$\texttt{oil\_litres}_{p,q,t} = \frac{\texttt{oil\_exp}_{p,q,t}}{\texttt{heating\_oil\_price}_{p,t}}.$$

#### `ng_GJ_per_dollar`
- **Description**: **Reduced-form natural gas conversion factor**: gigajoules per dollar of natural gas expenditure.
- **Source**: Script parameterization (`GJ_PER_DOLLAR`).
- **Unit**: GJ per CAD.
- **Calculation logic (special request — detailed)**:
  - The script applies a province-specific constant $\phi_p$ so that natural gas quantity is approximated by
    $$\widehat{Q}^{NG}_{p,q,t}(\text{GJ}) = \phi_p \cdot \texttt{ng\_exp}_{p,q,t}.$$
  - Coefficients used (hard-coded in the script):
    - Ontario: $\phi_{ON}=0.0527$
    - Manitoba: $\phi_{MB}=0.0561$
    - Saskatchewan: $\phi_{SK}=0.0503$
    - Alberta: $\phi_{AB}=0.0612$
  - **Interpretation / assumption**: $\phi_p$ can be interpreted as the inverse of an assumed average residential natural gas end-user price in $\$/GJ for province $p$:
    $$\phi_p \approx \frac{1}{\overline{P}^{NG}_{p}} \quad\text{where }\overline{P}^{NG}_{p}\text{ is in }\$/GJ.$$
    This is a reduced-form approach used because the SHS table provides **expenditures** but not **physical quantities** of natural gas.

#### `ng_GJ`
- **Description**: Imputed natural gas consumption.
- **Source**: Computed.
- **Unit**: GJ.
- **Calculation**:
  $$\texttt{ng\_GJ}_{p,q,t} = \texttt{ng\_exp}_{p,q,t} \cdot \texttt{ng\_GJ\_per\_dollar}_{p}.$$

#### `ng_m3`
- **Description**: Imputed natural gas consumption in cubic metres.
- **Source**: Computed.
- **Unit**: m$^3$.
- **Calculation**:
  $$\texttt{ng\_m3}_{p,q,t} = \texttt{ng\_GJ}_{p,q,t} \cdot \texttt{M3\_PER\_GJ}, \quad \text{where } \texttt{M3\_PER\_GJ}=26.853.$$

---

### Statutory fuel charge rates and derived rate for natural gas

#### `Gasoline`
- **Description**: Fuel charge rate for gasoline.
- **Source**: User-provided extract `Tax Rate Items_v2.xlsx` (underlying source: CRA “Fuel charge rates”).
- **Unit**: CAD per litre.
- **Logic**: Annual average of the rate in the fuel-charge year starting April 1 (the input file provides period start dates; the script uses the start-year for annual alignment).

#### `Light fuel oil`
- **Description**: Fuel charge rate for light fuel oil.
- **Source**: User-provided extract `Tax Rate Items_v2.xlsx` (underlying source: CRA “Fuel charge rates”).
- **Unit**: CAD per litre.

#### `Marketable natural gas`
- **Description**: Fuel charge rate for marketable natural gas.
- **Source**: User-provided extract `Tax Rate Items_v2.xlsx` (underlying source: CRA “Fuel charge rates”).
- **Unit**: CAD per m$^3$.

#### `ng_rate_per_GJ`
- **Description**: Fuel charge rate for natural gas expressed per GJ.
- **Source**: Computed from statutory per-m$^3$ rate.
- **Unit**: CAD per GJ.
- **Calculation**:
  $$\texttt{ng\_rate\_per\_GJ}_{p,t} = \texttt{Marketable natural gas}_{p,t} \cdot \texttt{M3\_PER\_GJ}.$$

---

### Direct fuel charge components (key transparency additions)

#### `tax_gasoline`
- **Description**: Direct fuel charge paid on gasoline consumption.
- **Source**: Computed.
- **Unit**: CAD per household-year.
- **Calculation**:
  $$\texttt{tax\_gasoline}_{p,q,t} = \texttt{gasoline\_litres}_{p,q,t} \cdot \texttt{Gasoline}_{p,t}.$$

#### `tax_oil`
- **Description**: Direct fuel charge paid on heating oil consumption.
- **Source**: Computed.
- **Unit**: CAD per household-year.
- **Calculation**:
  $$\texttt{tax\_oil}_{p,q,t} = \texttt{oil\_litres}_{p,q,t} \cdot \texttt{Light fuel oil}_{p,t}.$$

#### `tax_ng`
- **Description**: Direct fuel charge paid on natural gas consumption.
- **Source**: Computed.
- **Unit**: CAD per household-year.
- **Calculation**:
  $$\texttt{tax\_ng}_{p,q,t} = \texttt{ng\_GJ}_{p,q,t} \cdot \texttt{ng\_rate\_per\_GJ}_{p,t}.$$

#### `direct_tax`
- **Description**: Total **direct** fuel charge.
- **Source**: Computed.
- **Unit**: CAD per household-year.
- **Calculation**:
  $$\texttt{direct\_tax}_{p,q,t} = \texttt{tax\_gasoline}_{p,q,t} + \texttt{tax\_oil}_{p,q,t} + \texttt{tax\_ng}_{p,q,t}.$$

---

### Indirect effects (reduced-form wedge calibration)

#### `direct_tax_avg_prov_year`
- **Description**: Household-weighted provincial average of `direct_tax` for the province-year.
- **Source**: Computed.
- **Unit**: CAD per household-year.
- **Logic**:
  - Computed within each province-year using household weights:
    $$\overline{D}_{p,t} = \frac{\sum_q w_{p,q,t} D_{p,q,t}}{\sum_q w_{p,q,t}}.$$
  - This is an intermediate calibration input used to map Finance anchors into implied wedges.

#### `finance_cost_impact_anchor`
- **Description**: Finance Canada anchor value (average cost impact per household) for the province-year, when available.
- **Source**: Script parameterization (`FINANCE_COST_IMPACT`).
- **Unit**: CAD per household-year.
- **Logic**:
  - Populated for anchor years (2021, 2022, 2024); missing (`NaN`) for non-anchor years.

#### `kappa_anchor_implied`
- **Description**: Implied wedge from the anchor-year identity.
- **Source**: Computed.
- **Unit**: Unitless (share).
- **Logic**:
  - For years with an anchor:
    $$\kappa^{anchor}_{p,t} = \frac{A_{p,t}}{\overline{D}_{p,t}} - 1.$$
  - Missing (`NaN`) for non-anchor years.

#### `kappa_ols_fitted`
- **Description**: Province-specific OLS fitted wedge in carbon-price space.
- **Source**: Computed.
- **Unit**: Unitless (share).
- **Logic**:
  - Fit uses anchor years only: $\kappa_{p,t} = \alpha_p + \beta_p P_t$.
  - Stored as `max(0, \alpha_p + \beta_p P_t)` for years with positive carbon price; set to 0 when carbon price is 0.
  - In anchor years, this value is shown for transparency but final `kappa` is anchor-locked.

#### `kappa_source`
- **Description**: Rule used to assign final `kappa` in that province-year.
- **Source**: Computed.
- **Unit**: Text.
- **Logic**:
  - `anchor` for 2021/2022/2024,
  - `ols_fitted` for non-anchor years with positive carbon price,
  - `zero_price` when carbon price is zero (2025).

#### `kappa`
- **Description**: Province×year multiplicative **indirect-cost wedge**.
- **Source**: Computed calibration parameter.
- **Unit**: Unitless (share).
- **Logic**:
  - Let $\overline{D}_{p,t}$ be the household-weighted average direct tax in province $p$ year $t$.
  - Let $A_{p,t}$ be a government “average cost impact per household” anchor for that province-year.
  - For anchor years (2021, 2022, and 2024 in this script), the implied wedge is:
    $$\kappa_{p,t} = \frac{A_{p,t}}{\overline{D}_{p,t}} - 1.$$
  - The script fits a province-specific OLS line in statutory carbon-price space,
    $\kappa_{p,t} = \alpha_p + \beta_p \cdot P_t$, using anchor years only.
  - Anchor years are enforced exactly at their implied values; non-anchor years are assigned fitted values (floored at zero), and if carbon price is 0 (2025), $\kappa_{p,t}=0$.

#### `indirect_cost`
- **Description**: Dollar value of indirect costs implied by the wedge.
- **Source**: Computed.
- **Unit**: CAD per household-year.
- **Calculation**:
  $$\texttt{indirect\_cost}_{p,q,t} = \texttt{direct\_tax}_{p,q,t} \cdot \kappa_{p,t}.$$

#### `gross_cost`
- **Description**: “Gross” household cost including reduced-form indirect effects.
- **Source**: Computed.
- **Unit**: CAD per household-year.
- **Calculation**:
  $$\texttt{gross\_cost}_{p,q,t} = \texttt{direct\_tax}_{p,q,t} \cdot (1+\kappa_{p,t}).$$

---

### Rebate (CCR/CAI) schedules

All rebate columns below are **policy parameters** taken from official schedules and entered in the script as annual totals for the relevant benefit year.

#### `CCR_single_base`
- **Description**: Base annual CCR amount for a single adult.
- **Source**: Script parameterization (`CCR_SCHEDULE`).
- **Unit**: CAD per year.

#### `CCR_couple_base`
- **Description**: Base annual CCR amount for a couple (first+second adult).
- **Source**: Script parameterization (`CCR_SCHEDULE`).
- **Unit**: CAD per year.

#### `CCR_family4_base`
- **Description**: Base annual CCR amount for a family of four (two adults + two children).
- **Source**: Script parameterization (`CCR_SCHEDULE`).
- **Unit**: CAD per year.

#### `CCR_single_rural`
- **Description**: Annual CCR amount for a single adult including rural supplement.
- **Source**: Computed from base schedule and rural top-up parameterization (`RURAL_TOPUP`).
- **Unit**: CAD per year.
- **Calculation**:
  $$\texttt{CCR\_single\_rural}_{p,t} = \texttt{CCR\_single\_base}_{p,t} \cdot (1+\tau^{rural}_t).$$

#### `CCR_couple_rural`
- **Description**: Annual CCR amount for a couple including rural supplement.
- **Source**: Computed.
- **Unit**: CAD per year.

#### `CCR_family4_rural`
- **Description**: Annual CCR amount for a family of four including rural supplement.
- **Source**: Computed.
- **Unit**: CAD per year.

---

### Net incidence measures (gross cost minus rebate)

#### `net_single_base`
- **Description**: Net cost for a single adult under base CCR.
- **Source**: Computed.
- **Unit**: CAD per household-year.
- **Calculation**:
  $$\texttt{net\_single\_base}_{p,q,t} = \texttt{gross\_cost}_{p,q,t} - \texttt{CCR\_single\_base}_{p,t}.$$

#### `net_couple_base`
- **Description**: Net cost for a couple under base CCR.
- **Source**: Computed.
- **Unit**: CAD per household-year.

#### `net_family4_base`
- **Description**: Net cost for a family of four under base CCR.
- **Source**: Computed.
- **Unit**: CAD per household-year.

#### `net_single_rural`
- **Description**: Net cost for a single adult under CCR including rural supplement.
- **Source**: Computed.
- **Unit**: CAD per household-year.

#### `net_couple_rural`
- **Description**: Net cost for a couple under CCR including rural supplement.
- **Source**: Computed.
- **Unit**: CAD per household-year.

#### `net_family4_rural`
- **Description**: Net cost for a family of four under CCR including rural supplement.
- **Source**: Computed.
- **Unit**: CAD per household-year.

---

### Effective tax rates (ETRs): incidence divided by total expenditure

All ETRs are computed as:
$$\text{ETR}_{p,q,t}(\cdot) = \frac{\text{Incidence measure}_{p,q,t}(\cdot)}{\texttt{total\_exp}_{p,q,t}}.$$

#### `etr_direct_tax`
- **Description**: Direct fuel charge as a share of total expenditure.
- **Source**: Computed.
- **Unit**: Share (unitless).
- **Calculation**:
  $$\texttt{etr\_direct\_tax}_{p,q,t} = \frac{\texttt{direct\_tax}_{p,q,t}}{\texttt{total\_exp}_{p,q,t}}.$$

#### `etr_gross_cost`
- **Description**: Gross cost (direct + indirect wedge) as a share of total expenditure.
- **Source**: Computed.
- **Unit**: Share.

#### `etr_net_single_base`, `etr_net_couple_base`, `etr_net_family4_base`
- **Description**: Net cost under base CCR, by household type, as a share of total expenditure.
- **Source**: Computed.
- **Unit**: Share.

#### `etr_net_single_rural`, `etr_net_couple_rural`, `etr_net_family4_rural`
- **Description**: Net cost under CCR including rural supplement, by household type, as a share of total expenditure.
- **Source**: Computed.
- **Unit**: Share.
